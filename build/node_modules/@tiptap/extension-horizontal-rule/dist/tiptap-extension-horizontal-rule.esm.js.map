{"version":3,"file":"tiptap-extension-horizontal-rule.esm.js","sources":["../../../../../node_modules/@tiptap/extension-horizontal-rule/dist/tiptap-extension-horizontal-rule.esm.js"],"sourcesContent":["import { Node, mergeAttributes, nodeInputRule } from '@tiptap/core';\nimport { TextSelection } from 'prosemirror-state';\n\nconst HorizontalRule = Node.create({\r\n    name: 'horizontalRule',\r\n    addOptions() {\r\n        return {\r\n            HTMLAttributes: {},\r\n        };\r\n    },\r\n    group: 'block',\r\n    parseHTML() {\r\n        return [\r\n            { tag: 'hr' },\r\n        ];\r\n    },\r\n    renderHTML({ HTMLAttributes }) {\r\n        return ['hr', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes)];\r\n    },\r\n    addCommands() {\r\n        return {\r\n            setHorizontalRule: () => ({ chain }) => {\r\n                return chain()\r\n                    .insertContent({ type: this.name })\r\n                    // set cursor after horizontal rule\r\n                    .command(({ tr, dispatch }) => {\r\n                    var _a;\r\n                    if (dispatch) {\r\n                        const { $to } = tr.selection;\r\n                        const posAfter = $to.end();\r\n                        if ($to.nodeAfter) {\r\n                            tr.setSelection(TextSelection.create(tr.doc, $to.pos));\r\n                        }\r\n                        else {\r\n                            // add node after horizontal rule if it’s the end of the document\r\n                            const node = (_a = $to.parent.type.contentMatch.defaultType) === null || _a === void 0 ? void 0 : _a.create();\r\n                            if (node) {\r\n                                tr.insert(posAfter, node);\r\n                                tr.setSelection(TextSelection.create(tr.doc, posAfter));\r\n                            }\r\n                        }\r\n                        tr.scrollIntoView();\r\n                    }\r\n                    return true;\r\n                })\r\n                    .run();\r\n            },\r\n        };\r\n    },\r\n    addInputRules() {\r\n        return [\r\n            nodeInputRule({\r\n                find: /^(?:---|—-|___\\s|\\*\\*\\*\\s)$/,\r\n                type: this.type,\r\n            }),\r\n        ];\r\n    },\r\n});\n\nexport { HorizontalRule, HorizontalRule as default };\n//# sourceMappingURL=tiptap-extension-horizontal-rule.esm.js.map\n"],"names":["Node","mergeAttributes","TextSelection","nodeInputRule"],"mappings":";;;;;;;AAGK,MAAC,cAAc,GAAGA,mBAAI,CAAC,MAAM,CAAC;AACnC,IAAI,IAAI,EAAE,gBAAgB;AAC1B,IAAI,UAAU,GAAG;AACjB,QAAQ,OAAO;AACf,YAAY,cAAc,EAAE,EAAE;AAC9B,SAAS,CAAC;AACV,KAAK;AACL,IAAI,KAAK,EAAE,OAAO;AAClB,IAAI,SAAS,GAAG;AAChB,QAAQ,OAAO;AACf,YAAY,EAAE,GAAG,EAAE,IAAI,EAAE;AACzB,SAAS,CAAC;AACV,KAAK;AACL,IAAI,UAAU,CAAC,EAAE,cAAc,EAAE,EAAE;AACnC,QAAQ,OAAO,CAAC,IAAI,EAAEC,8BAAe,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC,CAAC;AACpF,KAAK;AACL,IAAI,WAAW,GAAG;AAClB,QAAQ,OAAO;AACf,YAAY,iBAAiB,EAAE,MAAM,CAAC,EAAE,KAAK,EAAE,KAAK;AACpD,gBAAgB,OAAO,KAAK,EAAE;AAC9B,qBAAqB,aAAa,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;AACvD;AACA,qBAAqB,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK;AACnD,oBAAoB,IAAI,EAAE,CAAC;AAC3B,oBAAoB,IAAI,QAAQ,EAAE;AAClC,wBAAwB,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,SAAS,CAAC;AACrD,wBAAwB,MAAM,QAAQ,GAAG,GAAG,CAAC,GAAG,EAAE,CAAC;AACnD,wBAAwB,IAAI,GAAG,CAAC,SAAS,EAAE;AAC3C,4BAA4B,EAAE,CAAC,YAAY,CAACC,mBAAa,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AACnF,yBAAyB;AACzB,6BAA6B;AAC7B;AACA,4BAA4B,MAAM,IAAI,GAAG,CAAC,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,CAAC;AAC1I,4BAA4B,IAAI,IAAI,EAAE;AACtC,gCAAgC,EAAE,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;AAC1D,gCAAgC,EAAE,CAAC,YAAY,CAACA,mBAAa,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC,CAAC;AACxF,6BAA6B;AAC7B,yBAAyB;AACzB,wBAAwB,EAAE,CAAC,cAAc,EAAE,CAAC;AAC5C,qBAAqB;AACrB,oBAAoB,OAAO,IAAI,CAAC;AAChC,iBAAiB,CAAC;AAClB,qBAAqB,GAAG,EAAE,CAAC;AAC3B,aAAa;AACb,SAAS,CAAC;AACV,KAAK;AACL,IAAI,aAAa,GAAG;AACpB,QAAQ,OAAO;AACf,YAAYC,4BAAa,CAAC;AAC1B,gBAAgB,IAAI,EAAE,6BAA6B;AACnD,gBAAgB,IAAI,EAAE,IAAI,CAAC,IAAI;AAC/B,aAAa,CAAC;AACd,SAAS,CAAC;AACV,KAAK;AACL,CAAC;;;;;"}