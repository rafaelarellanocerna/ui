{"version":3,"file":"iframe.js","sources":["../../../@atoms/AtomTextEditorHermer/iframe.tsx"],"sourcesContent":["import { Node } from '@tiptap/core';\r\n\r\nexport interface IframeOptions {\r\n  allowFullscreen: boolean;\r\n  HTMLAttributes: {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    [key: string]: any;\r\n  };\r\n}\r\n\r\ndeclare module '@tiptap/core' {\r\n  interface Commands<ReturnType> {\r\n    iframe: {\r\n      setIframe: (options: { src: string }) => ReturnType;\r\n    };\r\n  }\r\n}\r\n\r\nexport default Node.create<IframeOptions>({\r\n  name: 'iframe',\r\n\r\n  group: 'block',\r\n\r\n  atom: true,\r\n\r\n  addOptions() {\r\n    return {\r\n      allowFullscreen: true,\r\n      HTMLAttributes: {\r\n        class: 'iframe-wrapper',\r\n      },\r\n    };\r\n  },\r\n\r\n  addAttributes() {\r\n    return {\r\n      src: {\r\n        default: null,\r\n      },\r\n      frameborder: {\r\n        default: 0,\r\n      },\r\n      allowfullscreen: {\r\n        default: this.options.allowFullscreen,\r\n        parseHTML: () => this.options.allowFullscreen,\r\n      },\r\n    };\r\n  },\r\n\r\n  parseHTML() {\r\n    return [\r\n      {\r\n        tag: 'iframe',\r\n      },\r\n      {\r\n        tag: 'br',\r\n      },\r\n    ];\r\n  },\r\n\r\n  renderHTML({ HTMLAttributes }) {\r\n    return ['div', this.options.HTMLAttributes, ['iframe', HTMLAttributes]];\r\n  },\r\n\r\n  addCommands() {\r\n    return {\r\n      setIframe:\r\n        (options: { src: string }) =>\r\n        ({ tr, dispatch }) => {\r\n          const { selection } = tr;\r\n          const node = this.type.create(options);\r\n\r\n          if (dispatch) {\r\n            tr.replaceRangeWith(selection.from, selection.to, node);\r\n          }\r\n\r\n          return true;\r\n        },\r\n    };\r\n  },\r\n});\r\n"],"names":["Node"],"mappings":";;;;AAkBA,aAAeA,mBAAI,CAAC,MAAM,CAAgB;AACxC,IAAA,IAAI,EAAE,QAAQ;AAEd,IAAA,KAAK,EAAE,OAAO;AAEd,IAAA,IAAI,EAAE,IAAI;IAEV,UAAU,EAAA,YAAA;QACR,OAAO;AACL,YAAA,eAAe,EAAE,IAAI;AACrB,YAAA,cAAc,EAAE;AACd,gBAAA,KAAK,EAAE,gBAAgB;AACxB,aAAA;SACF,CAAC;KACH;IAED,aAAa,EAAA,YAAA;QAAb,IAaC,KAAA,GAAA,IAAA,CAAA;QAZC,OAAO;AACL,YAAA,GAAG,EAAE;AACH,gBAAA,OAAO,EAAE,IAAI;AACd,aAAA;AACD,YAAA,WAAW,EAAE;AACX,gBAAA,OAAO,EAAE,CAAC;AACX,aAAA;AACD,YAAA,eAAe,EAAE;AACf,gBAAA,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,eAAe;gBACrC,SAAS,EAAE,cAAM,OAAA,KAAI,CAAC,OAAO,CAAC,eAAe,CAAA,EAAA;AAC9C,aAAA;SACF,CAAC;KACH;IAED,SAAS,EAAA,YAAA;QACP,OAAO;AACL,YAAA;AACE,gBAAA,GAAG,EAAE,QAAQ;AACd,aAAA;AACD,YAAA;AACE,gBAAA,GAAG,EAAE,IAAI;AACV,aAAA;SACF,CAAC;KACH;AAED,IAAA,UAAU,YAAC,EAAkB,EAAA;AAAhB,QAAA,IAAA,cAAc,GAAA,EAAA,CAAA,cAAA,CAAA;AACzB,QAAA,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC,CAAC;KACzE;AAED,IAAA,WAAW,EAAX,YAAA;QAAA,IAeC,KAAA,GAAA,IAAA,CAAA;QAdC,OAAO;YACL,SAAS,EACP,UAAC,OAAwB,EAAA;AACzB,gBAAA,OAAA,UAAC,EAAgB,EAAA;wBAAd,EAAE,GAAA,EAAA,CAAA,EAAA,EAAE,QAAQ,GAAA,EAAA,CAAA,QAAA,CAAA;AACL,oBAAA,IAAA,SAAS,GAAK,EAAE,CAAA,SAAP,CAAQ;oBACzB,IAAM,IAAI,GAAG,KAAI,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AAEvC,oBAAA,IAAI,QAAQ,EAAE;AACZ,wBAAA,EAAE,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;AACzD,qBAAA;AAED,oBAAA,OAAO,IAAI,CAAC;iBACb,CAAA;aAAA;SACJ,CAAC;KACH;AACF,CAAA,CAAC;;;;"}