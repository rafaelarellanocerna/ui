{"version":3,"file":"events.js","sources":["../../../../@atoms/AtomImageEditor/react-pintura/events.js"],"sourcesContent":["/* eslint-disable no-param-reassign */\r\nconst isEvent = (key) => /^on[A-Z]/.test(key);\r\n\r\nconst getEventsFromProps = (props) =>\r\n  Object.keys(props).filter(isEvent).map(getEventFromKey);\r\n\r\nconst getEventFromKey = (key) => key.substr(2).toLowerCase();\r\n\r\nexport const unsub = (component, events = undefined) => {\r\n  (component.unsubs || [])\r\n    // events not supplied, or event is in events list\r\n    .filter(([event]) => !events || events.includes(event))\r\n    .forEach(([, unsubf]) => unsubf());\r\n};\r\n\r\nexport const sub = (component, props) => {\r\n  // unsub existing subscriptions\r\n  unsub(component, getEventsFromProps(props));\r\n\r\n  // subscribe\r\n  component.unsubs = Object.keys(props)\r\n    .filter(isEvent)\r\n    .map((key) => {\r\n      const type = getEventFromKey(key);\r\n      return [type, component.editor.on(type, props[key])];\r\n    });\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AACA,MAAM,OAAO,GAAG,CAAC,GAAG,KAAK,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC9C;AACA,MAAM,kBAAkB,GAAG,CAAC,KAAK;AACjC,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AAC1D;AACA,MAAM,eAAe,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;AAC7D;AACY,MAAC,KAAK,GAAG,CAAC,SAAS,EAAE,MAAM,GAAG,SAAS,KAAK;AACxD,EAAE,CAAC,SAAS,CAAC,MAAM,IAAI,EAAE;AACzB;AACA,KAAK,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC3D,KAAK,OAAO,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,MAAM,EAAE,CAAC,CAAC;AACvC,EAAE;AACF;AACY,MAAC,GAAG,GAAG,CAAC,SAAS,EAAE,KAAK,KAAK;AACzC;AACA,EAAE,KAAK,CAAC,SAAS,EAAE,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;AAC9C;AACA;AACA,EAAE,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;AACvC,KAAK,MAAM,CAAC,OAAO,CAAC;AACpB,KAAK,GAAG,CAAC,CAAC,GAAG,KAAK;AAClB,MAAM,MAAM,IAAI,GAAG,eAAe,CAAC,GAAG,CAAC,CAAC;AACxC,MAAM,OAAO,CAAC,IAAI,EAAE,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAC3D,KAAK,CAAC,CAAC;AACP;;;;;"}