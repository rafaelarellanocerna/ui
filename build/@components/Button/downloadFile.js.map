{"version":3,"file":"downloadFile.js","sources":["../../../@components/Button/downloadFile.tsx"],"sourcesContent":["import { gql, useLazyQuery } from '@apollo/client';\r\nimport { AtomButton } from '@atoms';\r\nimport { SerializedStyles } from '@emotion/react';\r\nimport { FC } from 'react';\r\n\r\ntype Props = {\r\n  buttonText?: string;\r\n  token: string;\r\n  nameFileDownload: string;\r\n  customCSS?: SerializedStyles;\r\n};\r\n\r\nexport const DOWNLOAD_FILES = gql`\r\n  query downloadFile($token: String!) {\r\n    downloadFile(token: $token) {\r\n      url\r\n    }\r\n  }\r\n`;\r\n\r\nconst DownloadFile: FC<Props> = (props) => {\r\n  const [getUrlFile] = useLazyQuery(DOWNLOAD_FILES);\r\n\r\n  const downloadFile = (name, token) => {\r\n    getUrlFile({\r\n      variables: { token },\r\n    }).then((response) => {\r\n      const url = response?.data?.downloadFile?.url;\r\n      const a = window?.document?.createElement(`a`);\r\n      a.href = url || ``;\r\n      a.target = `_blank`;\r\n      a.download = name;\r\n      document?.body?.appendChild(a);\r\n      a.click();\r\n      document?.body?.removeChild(a);\r\n    });\r\n  };\r\n  return (\r\n    <AtomButton\r\n      customCSS={props?.customCSS}\r\n      onClick={() => {\r\n        downloadFile(props?.nameFileDownload, props?.token);\r\n      }}\r\n    >\r\n      {props?.buttonText}\r\n    </AtomButton>\r\n  );\r\n};\r\n\r\nexport default DownloadFile;\r\n"],"names":["gql","__makeTemplateObject","__read","useLazyQuery","_jsx","AtomButton","__assign"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAYa,cAAc,GAAGA,SAAG,CAAA,gBAAA,KAAA,gBAAA,GAAAC,0BAAA,CAAA,CAAA,uGAAA,CAAA,EAAA,CAAA,uGAMhC,KAAC;AAEI,IAAA,YAAY,GAAc,UAAC,KAAK,EAAA;IAC9B,IAAA,EAAA,GAAAC,YAAe,CAAAC,yBAAY,CAAC,cAAc,CAAC,EAAA,CAAA,CAAA,EAA1C,UAAU,GAAA,EAAA,CAAA,CAAA,CAAgC,CAAC;AAElD,IAAA,IAAM,YAAY,GAAG,UAAC,IAAI,EAAE,KAAK,EAAA;AAC/B,QAAA,UAAU,CAAC;AACT,YAAA,SAAS,EAAE,EAAE,KAAK,EAAA,KAAA,EAAE;AACrB,SAAA,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ,EAAA;;AACf,YAAA,IAAM,GAAG,GAAG,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,QAAQ,KAAR,IAAA,IAAA,QAAQ,KAAR,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,QAAQ,CAAE,IAAI,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,YAAY,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,GAAG,CAAC;AAC9C,YAAA,IAAM,CAAC,GAAG,CAAA,EAAA,GAAA,MAAM,aAAN,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAN,MAAM,CAAE,QAAQ,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,aAAa,CAAC,GAAG,CAAC,CAAC;AAC/C,YAAA,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,EAAE,CAAC;AACnB,YAAA,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AACpB,YAAA,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;AAClB,YAAA,CAAA,EAAA,GAAA,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAR,QAAQ,CAAE,IAAI,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,WAAW,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,KAAK,EAAE,CAAC;AACV,YAAA,CAAA,EAAA,GAAA,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAR,QAAQ,CAAE,IAAI,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,WAAW,CAAC,CAAC,CAAC,CAAC;AACjC,SAAC,CAAC,CAAC;AACL,KAAC,CAAC;AACF,IAAA,QACEC,cAAA,CAACC,OAAU,EAAAC,cAAA,CAAA,EACT,SAAS,EAAE,KAAK,KAAL,IAAA,IAAA,KAAK,uBAAL,KAAK,CAAE,SAAS,EAC3B,OAAO,EAAE,YAAA;AACP,YAAA,YAAY,CAAC,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE,gBAAgB,EAAE,KAAK,aAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE,KAAK,CAAC,CAAC;SACrD,EAAA,EAAA,EAAA,QAAA,EAEA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE,UAAU,EACP,CAAA,CAAA,EACb;AACJ,EAAE;;;;;;"}