{"version":3,"file":"index.js","sources":["../../../@atoms/AtomCartShop/index.tsx"],"sourcesContent":["import { useQuery } from '@apollo/client';\r\nimport { css } from '@emotion/react';\r\n\r\nimport {\r\n  AddCart,\r\n  DeleteAllItemCart,\r\n  DeleteCart,\r\n} from '@Redux/actions/cartshop';\r\nimport { RootStateType } from '@Redux/reducer';\r\nimport client from '@Src/apollo';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport { useRouter } from 'next/router';\r\nimport { FC, useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { IProduct, IQueryFilter } from '@types';\r\nimport numberWithComas from '../../@utils/numberWithComas';\r\nimport AtomWrapper from '../AtomWrapper';\r\nimport AtomText from '../AtomText';\r\nimport AtomSeparator from '../AtomSeparator';\r\nimport AtomImage from '../AtomImage';\r\nimport AtomIcon from '../AtomIcon';\r\nimport AtomButton from '../AtomButton';\r\nimport { GETPRODUCTBYID } from './query';\r\nimport { SkletonStyles } from './styles';\r\n\r\nconst Animation = {\r\n  whileHover: {\r\n    scale: 1.09,\r\n    transition: { duration: 0.3 },\r\n  },\r\n  whileTap: { scale: 0.98, opacity: 0.8 },\r\n};\r\n\r\nconst AnimationWrapper = {\r\n  transition: {\r\n    default: { duration: 0.3 },\r\n  },\r\n  initial: { opacity: 0 },\r\n  animate: { opacity: 1 },\r\n  exit: { opacity: 0 },\r\n};\r\n\r\nconst Wrapper = motion.div;\r\n\r\ntype Props = {\r\n  path?: string;\r\n};\r\n\r\ntype CartsTypes = {\r\n  data: IProduct;\r\n  id: string;\r\n  quantity: number;\r\n}[];\r\n\r\nconst AtomCartShop: FC<Props> = (props) => {\r\n  const { path } = props;\r\n  const router = useRouter();\r\n  const customize = useSelector((state: RootStateType) => state.customize);\r\n  const cart = useSelector((state: RootStateType) => state.cartShop);\r\n  const [show, setShow] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const [cartsItems, setCartsItems] = useState<CartsTypes>([]);\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      const getcarts = await Promise.all(\r\n        cart?.map(async (item) => ({\r\n          ...item,\r\n          data: await client\r\n            .query<IQueryFilter<'productById'>>({\r\n              query: GETPRODUCTBYID,\r\n              variables: {\r\n                id: item.id,\r\n              },\r\n            })\r\n            .then((res) => res.data.productById)\r\n            .catch((err) => err),\r\n        }))\r\n      );\r\n      setCartsItems(getcarts);\r\n    };\r\n    if (Array.isArray(cart)) {\r\n      getData();\r\n    }\r\n  }, [cart]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (ref.current && !ref.current.contains(event.target as Node)) {\r\n        setShow(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(`mousedown`, handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(`mousedown`, handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n  return (\r\n    <>\r\n      <AtomButton\r\n        {...Animation}\r\n        onClick={() => setShow(!show)}\r\n        customCSS={css`\r\n          background-color: transparent;\r\n          padding: 10px;\r\n          border-radius: 50%;\r\n          position: relative;\r\n          border: 1px solid ${customize?.colors?.primary ?? '#fe6a6a'};\r\n          :hover {\r\n            background-color: ${customize?.colors?.primary ?? '#fe6a6a'};\r\n            div {\r\n              svg {\r\n                path {\r\n                  fill: #ffffff !important;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          transition: background-color 0.3s ease-in-out;\r\n        `}\r\n      >\r\n        <AtomIcon\r\n          height=\"20px\"\r\n          width=\"20px\"\r\n          color={customize?.colors?.primary ?? '#fe6a6a'}\r\n          icon=\"https://storage.googleapis.com/cdn-bucket-ixulabs-platform/icons/svgs/add-item-in-cart.svg\"\r\n        />\r\n        {cartsItems.length > 0 && (\r\n          <AtomText\r\n            customCSS={css`\r\n              top: -8px;\r\n              right: -12px;\r\n              position: absolute;\r\n              padding: 5px;\r\n              font-size: 10px;\r\n              border-radius: 50%;\r\n              display: flex;\r\n              flex-direction: column;\r\n              justify-content: center;\r\n              align-items: center;\r\n              width: 25px;\r\n              height: 25px;\r\n              color: #ffffff;\r\n              font-weight: bold;\r\n              background-color: ${customize?.colors?.primary ?? '#fe6a6a'};\r\n            `}\r\n          >\r\n            {cartsItems.reduce((acc, item) => acc + item.quantity, 0)}\r\n          </AtomText>\r\n        )}\r\n      </AtomButton>\r\n      <AnimatePresence>\r\n        {show && (\r\n          <Wrapper\r\n            {...AnimationWrapper}\r\n            css={css`\r\n              display: flex;\r\n              position: fixed;\r\n              top: 0;\r\n              left: 0;\r\n              width: 100vw;\r\n              height: 100vh;\r\n              background-color: #111111b0;\r\n              flex-direction: row;\r\n              justify-content: flex-end;\r\n            `}\r\n          >\r\n            <AtomWrapper\r\n              refObject={ref}\r\n              customCSS={css`\r\n                flex-direction: column;\r\n                justify-content: flex-start;\r\n                align-items: space-between;\r\n                height: 100%;\r\n                width: 450px;\r\n                padding: 40px 60px;\r\n                background-color: #ffffff;\r\n                box-shadow: 0px 0px 10px rgb(0 0 0 / 10%);\r\n                gap: 15px;\r\n              `}\r\n            >\r\n              <AtomText fontSize=\"22px\" fontWeight={700}>\r\n                CARRITO\r\n              </AtomText>\r\n              <AtomWrapper\r\n                customCSS={css`\r\n                  gap: 15px;\r\n                  height: 100%;\r\n                  overflow-y: auto;\r\n                  align-items: flex-start;\r\n                  justify-content: flex-start;\r\n                `}\r\n              >\r\n                {cart?.map((item) => (\r\n                  <CardCart key={item.id} {...item} />\r\n                ))}\r\n              </AtomWrapper>\r\n              <AtomSeparator\r\n                customCSS={css`\r\n                  background-color: #e4e4e4;\r\n                  margin: 0px;\r\n                `}\r\n              />\r\n              <AtomWrapper\r\n                customCSS={css`\r\n                  gap: 15px;\r\n                  height: max-content;\r\n                  flex-direction: row;\r\n                `}\r\n              >\r\n                <AtomWrapper\r\n                  customCSS={css`\r\n                    align-items: flex-end;\r\n                    gap: 10px;\r\n                  `}\r\n                >\r\n                  <AtomText>Subtotal (IVA Incluido)</AtomText>\r\n                  <AtomText>Envio</AtomText>\r\n                  <AtomText\r\n                    customCSS={css`\r\n                      font-size: 16px;\r\n                      font-weight: 700;\r\n                    `}\r\n                  >\r\n                    Total\r\n                  </AtomText>\r\n                </AtomWrapper>\r\n                <AtomWrapper\r\n                  customCSS={css`\r\n                    align-items: flex-end;\r\n                    gap: 10px;\r\n                  `}\r\n                >\r\n                  <AtomText>\r\n                    {`$${numberWithComas(\r\n                      cartsItems?.reduce(\r\n                        (acc, item) => acc + item?.data?.price * item.quantity,\r\n                        0\r\n                      )\r\n                    )} MXN`}\r\n                  </AtomText>\r\n                  <AtomText>Por definir</AtomText>\r\n                  <AtomText\r\n                    customCSS={css`\r\n                      font-size: 16px;\r\n                      font-weight: 700;\r\n                    `}\r\n                  >\r\n                    {`$${numberWithComas(\r\n                      cartsItems?.reduce(\r\n                        (acc, item) => acc + item?.data?.price * item.quantity,\r\n                        0\r\n                      )\r\n                    )} MXN`}\r\n                  </AtomText>\r\n                </AtomWrapper>\r\n              </AtomWrapper>\r\n              <AtomButton\r\n                width=\"100%\"\r\n                padding=\"10px 0px\"\r\n                onClick={() => {\r\n                  setShow(false);\r\n                  router.push(path ?? `/feed/shop/checkout`);\r\n                }}\r\n                backgroundColor={customize?.colors?.primary ?? '#fe6a6a'}\r\n              >\r\n                PROCEDER CON EL PAGO\r\n              </AtomButton>\r\n            </AtomWrapper>\r\n          </Wrapper>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AtomCartShop;\r\n\r\ntype CartType = {\r\n  id?: string;\r\n  quantity?: number;\r\n};\r\n\r\nconst CardCart: FC<CartType> = (props) => {\r\n  const { id, quantity } = props;\r\n  const dispatch = useDispatch();\r\n  const customize = useSelector((state: RootStateType) => state.customize);\r\n  const { data, loading } = useQuery<IQueryFilter<'productById'>>(\r\n    GETPRODUCTBYID,\r\n    {\r\n      variables: {\r\n        id,\r\n      },\r\n    }\r\n  );\r\n\r\n  return (\r\n    <AtomWrapper\r\n      customCSS={css`\r\n        width: 100%;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: flex-start;\r\n        align-items: flex-start;\r\n        padding: 10px;\r\n        gap: 20px;\r\n        border-radius: 4px;\r\n        background-color: #ffffff;\r\n        border: 1px solid #ebebeb;\r\n        box-shadow: 0px 0px 8px #dbdbdb78;\r\n        ${loading && SkletonStyles}\r\n      `}\r\n    >\r\n      <AtomImage\r\n        src={data?.productById?.photo}\r\n        alt=\"product\"\r\n        customCSS={css`\r\n          height: 100px;\r\n          width: 100px;\r\n          ${loading && SkletonStyles}\r\n        `}\r\n      />\r\n      <AtomWrapper\r\n        customCSS={css`\r\n          width: calc(100% - 100px);\r\n          gap: 5px;\r\n        `}\r\n      >\r\n        <AtomText\r\n          customCSS={css`\r\n            font-size: 14px;\r\n            font-weight: 600;\r\n            display: -webkit-box;\r\n            -webkit-line-clamp: 1;\r\n            -webkit-box-orient: vertical;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            ${loading && SkletonStyles}\r\n          `}\r\n        >\r\n          {data?.productById?.title}\r\n        </AtomText>\r\n        <AtomText\r\n          customCSS={css`\r\n            ${loading && SkletonStyles}\r\n            height: 20px;\r\n            font-size: 12px;\r\n            display: -webkit-box;\r\n            -webkit-line-clamp: 2;\r\n            -webkit-box-orient: vertical;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n          `}\r\n          dangerouslySetInnerHTML={{\r\n            __html: data?.productById?.description,\r\n          }}\r\n        />\r\n        <AtomText\r\n          customCSS={css`\r\n            font-weight: 600;\r\n            ${loading && SkletonStyles}\r\n          `}\r\n        >\r\n          {`$ ${numberWithComas(data?.productById?.price * quantity)}`}\r\n        </AtomText>\r\n        <AtomWrapper\r\n          customCSS={css`\r\n            flex-direction: row;\r\n            justify-content: flex-start;\r\n            gap: 5px;\r\n          `}\r\n        >\r\n          <AtomButton\r\n            onClick={() => dispatch(DeleteCart(id))}\r\n            disabled={quantity === 1}\r\n            customCSS={css`\r\n              display: flex;\r\n              flex-direction: row;\r\n              justify-content: center;\r\n              align-items: center;\r\n              width: 24px;\r\n              height: 24px;\r\n              padding: 0;\r\n              font-size: 10px;\r\n              background-color: ${customize?.colors?.primary ?? '#fe6a6a'};\r\n            `}\r\n          >\r\n            -\r\n          </AtomButton>\r\n          <AtomButton\r\n            customCSS={css`\r\n              display: flex;\r\n              flex-direction: row;\r\n              justify-content: center;\r\n              align-items: center;\r\n              width: 24px;\r\n              height: 24px;\r\n              padding: 0;\r\n              font-size: 8px;\r\n              background-color: transparent;\r\n              border: 1px solid ${customize?.colors?.primary ?? '#fe6a6a'};\r\n              color: ${customize?.colors?.primary ?? '#fe6a6a'};\r\n            `}\r\n          >\r\n            {quantity}\r\n          </AtomButton>\r\n          <AtomButton\r\n            onClick={() => dispatch(AddCart(id))}\r\n            customCSS={css`\r\n              display: flex;\r\n              flex-direction: row;\r\n              justify-content: center;\r\n              align-items: center;\r\n              width: 24px;\r\n              height: 24px;\r\n              padding: 0;\r\n              font-size: 10px;\r\n              background-color: ${customize?.colors?.primary ?? '#fe6a6a'};\r\n            `}\r\n          >\r\n            +\r\n          </AtomButton>\r\n          <AtomButton\r\n            onClick={() => dispatch(DeleteAllItemCart(id))}\r\n            customCSS={css`\r\n              display: flex;\r\n              flex-direction: row;\r\n              justify-content: center;\r\n              align-items: center;\r\n              width: 24px;\r\n              height: 24px;\r\n              padding: 0;\r\n              font-size: 10px;\r\n              background-color: ${customize?.colors?.primary ?? '#fe6a6a'};\r\n            `}\r\n          >\r\n            <AtomIcon\r\n              color=\"white\"\r\n              height=\"15px\"\r\n              width=\"15px\"\r\n              icon=\"https://storage.googleapis.com/cdn-bucket-ixulabs-platform/assets/svgs/JRO-0001/icons/Component%20199%20%E2%80%93%202.svg\"\r\n            />\r\n          </AtomButton>\r\n        </AtomWrapper>\r\n      </AtomWrapper>\r\n    </AtomWrapper>\r\n  );\r\n};\r\n"],"names":["motion","router","useRouter","useSelector","__read","useState","useRef","useEffect","__awaiter","client","GETPRODUCTBYID","__assign","_jsxs","AtomButton","css","__makeTemplateObject","_jsx","AtomIcon","AtomText","AnimatePresence","AtomWrapper","AtomSeparator","useDispatch","useQuery","SkletonStyles","AtomImage","DeleteCart","AddCart","DeleteAllItemCart"],"mappings":"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"}