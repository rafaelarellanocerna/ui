{"version":3,"file":"inputRange.js","sources":["../../../@atoms/AtomInput/inputRange.tsx"],"sourcesContent":["import { FC, useEffect, useState } from 'react';\r\nimport AtomInputTextError from './error';\r\nimport {\r\n  InputRangeLabelStyled,\r\n  InputRangeStyled,\r\n  SliderTrackStyled,\r\n} from './style';\r\nimport { AtomInputTypes } from './types';\r\n\r\nconst Animation = {\r\n  whileTap: { scale: 0.98, opacity: 0.8 },\r\n};\r\n\r\nconst mapRange = (\r\n  value: number,\r\n  low1: number,\r\n  high1: number,\r\n  low2: number,\r\n  high2: number\r\n) => low2 + ((high2 - low2) * (value - low1)) / (high1 - low1);\r\n\r\nconst isNegative = (\r\n  range: { min: number; max: number },\r\n  min: number,\r\n  max: number\r\n) => {\r\n  const RangeMax = mapRange(range.max, 0, 100, min, max);\r\n  const RangeMin = mapRange(range.min, 0, 100, min, max);\r\n  return RangeMax - RangeMin < 0\r\n    ? { min: RangeMax, max: RangeMin }\r\n    : { min: RangeMin, max: RangeMax };\r\n};\r\n\r\nconst InputRange: FC<AtomInputTypes> = (props) => {\r\n  const { onUpdateValues, formik, id, children } = props;\r\n  const {\r\n    minRange = 0,\r\n    maxRange = 100,\r\n    loadValues = {\r\n      min: 0,\r\n      max: 100,\r\n    },\r\n  } = props;\r\n  const {\r\n    labelWidth,\r\n    labelColor,\r\n    labelFontFamily,\r\n    labelFontSize,\r\n    labelFontWeight,\r\n    labelMargin,\r\n    labelPadding,\r\n    spanMargin,\r\n    customCSS,\r\n    label,\r\n  } = props;\r\n\r\n  const [rangeValue, setRangeValue] = useState({\r\n    min: 0,\r\n    max: 100,\r\n  });\r\n\r\n  useEffect(() => {\r\n    setRangeValue(loadValues);\r\n  }, [loadValues.max, loadValues.min]);\r\n\r\n  useEffect(() => {\r\n    if (formik) {\r\n      formik.setFieldValue(\r\n        id || 'range',\r\n        isNegative(rangeValue, minRange, maxRange)\r\n      );\r\n    } else if (onUpdateValues) {\r\n      onUpdateValues(isNegative(rangeValue, minRange, maxRange));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [rangeValue]);\r\n\r\n  return (\r\n    <InputRangeLabelStyled\r\n      labelWidth={labelWidth}\r\n      labelColor={labelColor}\r\n      labelFontFamily={labelFontFamily}\r\n      labelFontSize={labelFontSize}\r\n      labelFontWeight={labelFontWeight}\r\n      labelMargin={labelMargin}\r\n      labelPadding={labelPadding}\r\n      spanMargin={spanMargin}\r\n      customCSS={customCSS}\r\n    >\r\n      {label && <span>{label}</span>}\r\n\r\n      <SliderTrackStyled\r\n        {...props}\r\n        minTrack={rangeValue.min}\r\n        maxTrack={rangeValue.max}\r\n      >\r\n        <InputRangeStyled\r\n          {...Animation}\r\n          type=\"range\"\r\n          {...props}\r\n          value={rangeValue.min.toString()}\r\n          onChange={(e) => {\r\n            setRangeValue({\r\n              min: Number(e.target.value),\r\n              max: rangeValue.max,\r\n            });\r\n          }}\r\n        />\r\n        <InputRangeStyled\r\n          {...Animation}\r\n          type=\"range\"\r\n          {...props}\r\n          value={rangeValue.max.toString()}\r\n          onChange={(e) => {\r\n            setRangeValue({\r\n              min: rangeValue.min,\r\n              max: Number(e.target.value),\r\n            });\r\n          }}\r\n        />\r\n      </SliderTrackStyled>\r\n      {children}\r\n      {label}\r\n\r\n      <AtomInputTextError {...props} />\r\n    </InputRangeLabelStyled>\r\n  );\r\n};\r\n\r\nexport default InputRange;\r\n"],"names":["__read","useState","useEffect","_jsxs","InputRangeLabelStyled","_jsx","SliderTrackStyled","InputRangeStyled","__assign","AtomInputTextError"],"mappings":";;;;;;;;AASA,IAAM,SAAS,GAAG;IAChB,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE;CACxC,CAAC;AAEF,IAAM,QAAQ,GAAG,UACf,KAAa,EACb,IAAY,EACZ,KAAa,EACb,IAAY,EACZ,KAAa,EAAA,EACV,OAAA,IAAI,GAAG,CAAC,CAAC,KAAK,GAAG,IAAI,KAAK,KAAK,GAAG,IAAI,CAAC,KAAK,KAAK,GAAG,IAAI,CAAC,CAAA,EAAA,CAAC;AAE/D,IAAM,UAAU,GAAG,UACjB,KAAmC,EACnC,GAAW,EACX,GAAW,EAAA;AAEX,IAAA,IAAM,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AACvD,IAAA,IAAM,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;AACvD,IAAA,OAAO,QAAQ,GAAG,QAAQ,GAAG,CAAC;UAC1B,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAE;UAChC,EAAE,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC;AACvC,CAAC,CAAC;AAEI,IAAA,UAAU,GAAuB,UAAC,KAAK,EAAA;AACnC,IAAA,IAAA,cAAc,GAA2B,KAAK,eAAhC,EAAE,MAAM,GAAmB,KAAK,CAAA,MAAxB,EAAE,EAAE,GAAe,KAAK,CAApB,EAAA,EAAE,QAAQ,GAAK,KAAK,SAAV,CAAW;IAErD,IAAA,EAAA,GAME,KAAK,CANK,QAAA,EAAZ,QAAQ,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,CAAC,GAAA,EAAA,EACZ,EAKE,GAAA,KAAK,SALO,EAAd,QAAQ,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA,GAAG,GAAA,EAAA,EACd,KAIE,KAAK,CAAA,UADN,EAHD,UAAU,GAAG,EAAA,KAAA,KAAA,CAAA,GAAA;AACX,QAAA,GAAG,EAAE,CAAC;AACN,QAAA,GAAG,EAAE,GAAG;AACT,KAAA,GAAA,EAAA,CACO;IAER,IAAA,UAAU,GAUR,KAAK,CAAA,UAVG,EACV,UAAU,GASR,KAAK,CAAA,UATG,EACV,eAAe,GAQb,KAAK,CAAA,eARQ,EACf,aAAa,GAOX,KAAK,CAPM,aAAA,EACb,eAAe,GAMb,KAAK,CAAA,eANQ,EACf,WAAW,GAKT,KAAK,CALI,WAAA,EACX,YAAY,GAIV,KAAK,CAJK,YAAA,EACZ,UAAU,GAGR,KAAK,CAHG,UAAA,EACV,SAAS,GAEP,KAAK,CAAA,SAFE,EACT,KAAK,GACH,KAAK,CAAA,KADF,CACG;IAEJ,IAAA,EAAA,GAAAA,YAA8B,CAAAC,cAAQ,CAAC;AAC3C,QAAA,GAAG,EAAE,CAAC;AACN,QAAA,GAAG,EAAE,GAAG;AACT,KAAA,CAAC,IAAA,EAHK,UAAU,QAAA,EAAE,aAAa,QAG9B,CAAC;AAEH,IAAAC,eAAS,CAAC,YAAA;QACR,aAAa,CAAC,UAAU,CAAC,CAAC;KAC3B,EAAE,CAAC,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;AAErC,IAAAA,eAAS,CAAC,YAAA;AACR,QAAA,IAAI,MAAM,EAAE;AACV,YAAA,MAAM,CAAC,aAAa,CAClB,EAAE,IAAI,OAAO,EACb,UAAU,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAC3C,CAAC;AACH,SAAA;AAAM,aAAA,IAAI,cAAc,EAAE;YACzB,cAAc,CAAC,UAAU,CAAC,UAAU,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC5D,SAAA;;AAEH,KAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;AAEjB,IAAA,QACEC,eAAC,CAAAC,2BAAqB,mBACpB,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,UAAU,EACtB,eAAe,EAAE,eAAe,EAChC,aAAa,EAAE,aAAa,EAC5B,eAAe,EAAE,eAAe,EAChC,WAAW,EAAE,WAAW,EACxB,YAAY,EAAE,YAAY,EAC1B,UAAU,EAAE,UAAU,EACtB,SAAS,EAAE,SAAS,EAAA,EAAA,EAAA,QAAA,EAAA,CAEnB,KAAK,IAAIC,cAAA,CAAA,MAAA,EAAA,EAAA,QAAA,EAAO,KAAK,EAAA,CAAQ,EAE9BF,eAAC,CAAAG,uBAAiB,qBACZ,KAAK,EAAA,EACT,QAAQ,EAAE,UAAU,CAAC,GAAG,EACxB,QAAQ,EAAE,UAAU,CAAC,GAAG,iBAExBD,cAAC,CAAAE,sBAAgB,EACXC,cAAA,CAAA,EAAA,EAAA,SAAS,IACb,IAAI,EAAC,OAAO,EACR,EAAA,KAAK,IACT,KAAK,EAAE,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,EAChC,QAAQ,EAAE,UAAC,CAAC,EAAA;AACV,4BAAA,aAAa,CAAC;gCACZ,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;gCAC3B,GAAG,EAAE,UAAU,CAAC,GAAG;AACpB,6BAAA,CAAC,CAAC;yBACJ,EAAA,CAAA,CACD,EACFH,cAAA,CAACE,sBAAgB,EAAAC,cAAA,CAAA,EAAA,EACX,SAAS,EACb,EAAA,IAAI,EAAC,OAAO,EACR,EAAA,KAAK,IACT,KAAK,EAAE,UAAU,CAAC,GAAG,CAAC,QAAQ,EAAE,EAChC,QAAQ,EAAE,UAAC,CAAC,EAAA;AACV,4BAAA,aAAa,CAAC;gCACZ,GAAG,EAAE,UAAU,CAAC,GAAG;gCACnB,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AAC5B,6BAAA,CAAC,CAAC;AACL,yBAAC,EACD,CAAA,CAAA,CAAA,EAAA,CAAA,CACgB,EACnB,QAAQ,EACR,KAAK,EAENH,cAAC,CAAAI,KAAkB,EAAKD,cAAA,CAAA,EAAA,EAAA,KAAK,CAAI,CAAA,CAAA,EAAA,CAAA,CACX,EACxB;AACJ;;;;"}