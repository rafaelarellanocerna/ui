{"version":3,"file":"cartshop.js","sources":["../../../../src/redux/reducer/cartshop.ts"],"sourcesContent":["import { Reducer } from 'react';\r\n\r\nconst TypesReducers = {\r\n  ADDCART: (state: CartShopReducerType, payload: string) => {\r\n    const find = state.find((item) => item.id === payload);\r\n    return find\r\n      ? state.map((item) =>\r\n          item.id === find.id ? { ...item, quantity: item.quantity + 1 } : item\r\n        )\r\n      : [...state, { id: payload, quantity: 1 }];\r\n  },\r\n  DELETECART: (state: CartShopReducerType, payload: string) => {\r\n    const find = state.find((item) => item.id === payload);\r\n    const filter = state.filter((item) => item.id !== payload);\r\n    return find\r\n      ? find.quantity - 1 === 0\r\n        ? filter\r\n        : state.map((item) =>\r\n            item.id === find.id\r\n              ? { ...item, quantity: item.quantity - 1 }\r\n              : item\r\n          )\r\n      : filter;\r\n  },\r\n  DELETEALLITEMCART: (state: CartShopReducerType, payload: string) =>\r\n    state.filter((item) => item.id !== payload),\r\n  DELETEALLCART: () => [],\r\n  SETCART: (state: CartShopReducerType, payload: string) => {\r\n    const split = payload.split('-');\r\n    const find = state.find((item) => item.id === split[0]);\r\n    return state.map((item) =>\r\n      item.id === find?.id\r\n        ? {\r\n            ...item,\r\n            quantity: Number(split[1] ?? 0) > 0 ? Number(split[1] ?? 1) : 1\r\n          }\r\n        : item\r\n    );\r\n  }\r\n};\r\n\r\ntype UserAction = {\r\n  type: keyof typeof TypesReducers;\r\n  payload: string;\r\n};\r\n\r\nexport type CartShopReducerType = {\r\n  id: string;\r\n  quantity: number;\r\n}[];\r\n\r\nconst initialState: CartShopReducerType = [];\r\n\r\nconst CartShopReducer: Reducer<CartShopReducerType, UserAction> = (\r\n  state = initialState,\r\n  action\r\n) => {\r\n  const { type, payload } = action;\r\n  const TypeReduce = TypesReducers[type];\r\n  const Reduce = TypeReduce ? TypeReduce(state, payload) : state;\r\n  return Reduce;\r\n};\r\n\r\nexport default CartShopReducer;\r\n"],"names":["__assign","__spreadArray","__read"],"mappings":"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"}